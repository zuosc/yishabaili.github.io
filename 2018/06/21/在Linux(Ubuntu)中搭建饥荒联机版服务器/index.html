<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>åœ¨Linux(Ubuntu)ä¸­æ­å»ºé¥¥è’è”æœºç‰ˆæœåŠ¡å™¨ | ä¸€æ€ç™¾é‡Œçš„åšå®¢</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">åœ¨Linux(Ubuntu)ä¸­æ­å»ºé¥¥è’è”æœºç‰ˆæœåŠ¡å™¨</h1><a id="logo" href="/.">ä¸€æ€ç™¾é‡Œçš„åšå®¢</a><p class="description">æ„¿æ— å²æœˆå¯å›å¤´ï¼Œä¸”ä»¥æƒ…æ·±å…±ä½™ç”ŸğŸ˜˜</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a><a href="/atom.xml"><i class="fa fa-rss"> è®¢é˜…</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">åœ¨Linux(Ubuntu)ä¸­æ­å»ºé¥¥è’è”æœºç‰ˆæœåŠ¡å™¨</h1><div class="post-meta">Jun 21, 2018</div><div class="post-content"><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™å‘¨Kleiå®¶æ‰“æŠ˜ï¼Œæ‰‹ä¸€æŠ–å°±æŠŠé¥¥è’è”æœºç‰ˆ(Donâ€™t Starve Together)å’Œä¸¤ä¸ªDLCä¸€èµ·æ‰“åŒ…ä¹°å›å®¶äº†(å‰æ‰‹ï¼)ã€‚è”æœºç‰ˆæœ€å¤§çš„ç©ç‚¹å°±æ˜¯å¯ä»¥å’Œå¾ˆå¤šäººä¸€èµ·ç©ï¼Œè€Œä¸”å¯ä»¥è‡ªå·±æ­å»ºæœåŠ¡å™¨ã€‚æƒ³ç€å‰ä¸€æ®µæ—¶é—´ä¹°çš„è…¾è®¯äº‘æœåŠ¡å™¨(ç»§ç»­å‰æ‰‹ï¼)ä¹Ÿç®—é—²ç½®åœ¨é‚£é‡Œï¼Œå°±å¹²è„†é—²ç½®åˆ©ç”¨èµ·æ¥å§ã€‚<br><img src="https://cdn.steamstatic.com.8686c.com/steam/apps/322330/header_alt_assets_0.jpg" alt="Don&#39;t Starve Together"></p>
<h2 id="æ­å»º"><a href="#æ­å»º" class="headerlink" title="æ­å»º"></a>æ­å»º</h2><p>å®é™…ä¸Šï¼ŒKlieçš„æ–‡æ¡£è¿˜æ˜¯å†™çš„éå¸¸éå¸¸è¯¦ç»†çš„ï¼Œä¸è¿‡åªæœ‰çº¯è‹±æ–‡çš„æ–‡æ¡£ï¼Œè¿™å¯èƒ½å“é€€äº†ä¸€éƒ¨åˆ†äººã€‚å¦‚æœçœŸçš„è®¤çœŸå»çœ‹äº†ï¼Œå°±ä¼šå‘ç°è‹±æ–‡æ–‡æ¡£éƒ½æ˜¯æ¯”è¾ƒç®€å•çš„è‹±è¯­ï¼Œå›¾ç‰‡ä¹Ÿé…çš„å¾ˆè¯¦ç»†ï¼Œçœ‹æ‡‚æ— å‹åŠ›ã€‚<br>è¿™é‡Œæˆ‘æœ‰ç‚¹æ‡’ï¼Œå“ªå¤©æœ‰ç©ºå†ç¿»è¯‘å§ï¼Œæ‰€ä»¥å°±ç›´æ¥è´´å‡ºæ–‡æ¡£åœ°å€ï¼š<a href="https://steamcommunity.com/sharedfiles/filedetails/?id=590565473" target="_blank" rel="noopener">How to setup dedicated server with cave on Linux</a></p>
<h2 id="æ­å»ºæ³¨æ„ç‚¹"><a href="#æ­å»ºæ³¨æ„ç‚¹" class="headerlink" title="æ­å»ºæ³¨æ„ç‚¹"></a>æ­å»ºæ³¨æ„ç‚¹</h2><p>1ã€æ¸¸æˆçš„ä¸»ä½“æ–‡ä»¶æ˜¯åœ¨ä½ å®‰è£…çš„ç›®å½•é‡Œçš„ã€‚ä¸–ç•Œçš„æ­å»ºï¼Œé…ç½®è¿˜æœ‰æ•°æ®æ˜¯åœ¨è¿è¡Œæ¸¸æˆçš„è´¦æˆ·ä¸‹é¢çš„ï¼Œæ¯”å¦‚ä½ çš„æ¸¸æˆè¿è¡Œè´¦æˆ·æ˜¯dstï¼Œé‚£æ‰€æœ‰çš„æ•°æ®éƒ½åœ¨  /home/dst/.klei/DoNotStarveTogether é‡Œé¢ã€‚çŸ¥é“è¿™ç‚¹å¾ˆé‡è¦ã€‚</p>
<p>2ã€å› ä¸ºç¬¬ä¸€ç‚¹çš„åŸå› ï¼Œæ‰€ä»¥å¼ºçƒˆæ¨èæ ¹æ®å®˜æ–¹æ–‡æ¡£é‡Œçš„æ­¥éª¤ï¼Œåˆ›å»ºä¸€ä¸ªérootç»„çš„è´¦æˆ·ã€‚ç„¶åå‰©ä½™æ‰€æœ‰çš„æ“ä½œå…¨éƒ½åœ¨è¿™ä¸ªç”¨æˆ·é‡Œè¿›è¡Œæ“ä½œã€‚è¿™ä¸ªæ˜¯éå¸¸é‡è¦çš„ï¼Œç¬¬ä¸€éçœ‹æ–‡æ¡£çš„æ—¶å€™æ²¡æ³¨æ„åˆ°ç”¨æˆ·çš„åˆ‡æ¢ï¼Œè¿˜æœ‰è„šæœ¬ä¼šé‡ç½®æœåŠ¡å™¨modé…ç½®æ–‡ä»¶(åé¢ä¼šè¯´åˆ°)ï¼Œå¯¼è‡´äº†ä¸€ç›´å¤±è´¥ã€‚åæ¥è€å¿ƒé‡è¯»äº†ä¸€éæ–‡æ¡£ï¼Œæ‰å‘ç°é—®é¢˜æ‰€åœ¨ã€‚</p>
<p>3ã€åˆ›å»ºçš„è´¦æˆ·ï¼Œå¯†ç æœ€å¥½å¼„å¼ºä¸€ç‚¹ã€‚ä¸è¦æ˜¯è´¦å·æ˜¯dstï¼Œå¯†ç ä¹Ÿæ˜¯dstã€‚å¤ªå®¹æ˜“è¢«é»‘å®¢æ‰«æå‡ºæ¥äº†ã€‚</p>
<p>4ã€æˆ‘ç”¨çš„æ˜¯è…¾è®¯äº‘æœåŠ¡å™¨ï¼ŒåŠ äº†å®‰å…¨ç»„ã€‚ é¥¥è’è”æœºç‰ˆé»˜è®¤ä½¿ç”¨çš„æ˜¯UDP 10999ç«¯å£ã€‚å¦‚æœæœ‰ç±»ä¼¼å®‰å…¨ç»„é‡Œçš„è®¾ç½®ï¼Œé…ç½®ä¸€ä¸‹å°±å¥½ã€‚</p>
<p>5ã€æ¨èé…ç½®é‡Œï¼Œé»˜è®¤æ¸¸æˆæ¨¡å¼çš„æ˜¯ç”Ÿå­˜(survival)ã€‚å¦‚æœæ˜¯çº¯æ–°æ‰‹çš„è¯ï¼Œæ¨èæ”¹ä¸ºæ— å°½(endless)æ¨¡å¼å§ã€‚é«˜ç©ç•¥è¿‡è¿™æ¡~</p>
<h2 id="é…ç½®æœåŠ¡å™¨Mod"><a href="#é…ç½®æœåŠ¡å™¨Mod" class="headerlink" title="é…ç½®æœåŠ¡å™¨Mod"></a>é…ç½®æœåŠ¡å™¨Mod</h2><p>å®˜æ–¹ä¾ç„¶æœ‰éå¸¸è¯¦ç»†çš„æ–‡æ¡£ï¼Œå½“ç„¶ä¾ç„¶æ˜¯çº¯è‹±æ–‡çš„ï¼Œå¹¶ä¸”ä¾ç„¶ä¹Ÿæ˜¯å¾ˆå®¹æ˜“çœ‹å¾—æ‡‚çš„è‹±æ–‡ã€‚æ–‡æ¡£åœ°å€ï¼š<a href="https://steamcommunity.com/sharedfiles/filedetails/?id=591543858" target="_blank" rel="noopener">How to install,configure and update mods on Dedicated Server</a></p>
<h2 id="é…ç½®æœåŠ¡å™¨Modæ³¨æ„ç‚¹"><a href="#é…ç½®æœåŠ¡å™¨Modæ³¨æ„ç‚¹" class="headerlink" title="é…ç½®æœåŠ¡å™¨Modæ³¨æ„ç‚¹"></a>é…ç½®æœåŠ¡å™¨Modæ³¨æ„ç‚¹</h2><p>å¦‚æœä½ æ˜¯æŒ‰ç…§å®˜æ–¹æ–‡æ¡£æ­å»ºå’Œé…ç½®çš„ï¼Œä¼šæœ‰ä¸€ä¸ªupdate.shè„šæœ¬ã€‚è¿™ä¸ªè„šæœ¬çš„ä½œç”¨æ˜¯æ›´æ–°æ¸¸æˆï¼Œå¹¶ä¸”<strong>æ ¡éªŒ</strong>æ¸¸æˆï¼Œç„¶åé‡å¯æ¸¸æˆã€‚æˆ‘åå¤ç¡®è®¤äº†è¿™ä¸ªè„šæœ¬ï¼Œæœ€ç»ˆç¡®å®šï¼šå¦‚æœæ‰§è¡Œè„šæœ¬ï¼Œå…¶ä¸­çš„<strong>æ ¡éªŒ</strong>å‘½ä»¤ï¼Œä¼šå¯¼è‡´é…ç½®æœåŠ¡å™¨Modæ–‡ä»¶dedicated_server_mods_setup.luaè¢«é‡ç½®ã€‚<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /home/dst/server_dst/bin/update.sh</span></span><br><span class="line"><span class="comment"># update of server</span></span><br><span class="line">screen -dr dst_server1 -X quit</span><br><span class="line">screen -dr dst_server2 -X quit</span><br><span class="line">cd /home/dst</span><br><span class="line">./steamcmd.sh +login anonymous +force_install_dir /home/dst/server_dst +app_update 343050 validate +quit</span><br><span class="line">sleep 10</span><br><span class="line">sh /home/dst/server_dst/bin/restart.sh</span><br><span class="line">sh /home/dst/server_dst/bin/restart2.sh</span><br></pre></td></tr></table></figure></p>
<p>æœ€åæˆ‘æ€è€ƒäº†ä¸‹ï¼Œå†³å®šæŠŠè„šæœ¬é‡Œçš„<strong>validate</strong>å‚æ•°ç»™ç§»é™¤äº†ï¼Œè®©æ¸¸æˆç›´æ¥æ›´æ–°ï¼Œä¸æ ¡éªŒï¼Œç„¶åé‡å¯ã€‚è¿è¡Œäº†ä¸€å‘¨ä¹Ÿæ²¡å•¥é—®é¢˜ï¼Œæ‰€ä»¥å°±è¿™æ ·å¤„ç†äº†å§ã€‚</p>
<h2 id="ä¸ªäººä½¿ç”¨åˆ°çš„æœåŠ¡å™¨Mod"><a href="#ä¸ªäººä½¿ç”¨åˆ°çš„æœåŠ¡å™¨Mod" class="headerlink" title="ä¸ªäººä½¿ç”¨åˆ°çš„æœåŠ¡å™¨Mod"></a>ä¸ªäººä½¿ç”¨åˆ°çš„æœåŠ¡å™¨Mod</h2><p>æ— Modï¼Œä¸é¥¥è’ã€‚æ­å»ºå’Œç©çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°å’Œä½¿ç”¨ä¸€äº›modï¼Œè¿™éƒ¨åˆ†å†…å®¹çº¯å±ä¸ªäººåˆ†äº«ã€‚æœ‰å…´è¶£çš„è¯ï¼Œå¯ä»¥æŠŠä»¥ä¸‹å†…å®¹é€‰æ‹©æ€§çš„æˆ–è€…å…¨éƒ¨ç›´æ¥æ‹·è´åˆ° /home/dst/server_dst/mods/dedicated_server_mods_setup.lua æ–‡ä»¶ä¸­ã€‚æœ‰æ¨èçš„Modçš„è¯ï¼Œæ¬¢è¿ç•™è¨€åˆ†äº«å“¦~<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">-<span class="comment">#Global Position</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"378160973"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment">#Ancient Altar</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"481765222"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment">#Health Info</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"375859599"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment">#Fast Travel</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"458587300"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment">#Chinese package</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"1301033176"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment">#A Big Bag</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"810443397"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment">#Geometric Placement</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"351325790"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment">#Syelza</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"804317397"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment">#wukong</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"666132449"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment">#No Thermal Stone Durability</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"466732225"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment">#Display Food Values</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"347079953"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment">#Increased Stack size</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"374550642"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment">#Wormhole Marks</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"362175979"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment"># Inventory Slots</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"786556008"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment"># Restart</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"462434129"</span>)</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">--<span class="comment"># ç®€æ˜“è¡€æ¡DST</span></span></span><br><span class="line"><span class="ruby">ServerModSetup(<span class="string">"1207269058"</span>)</span></span><br></pre></td></tr></table></figure></p>
<h2 id="è¿ç»´æ¸¸æˆ"><a href="#è¿ç»´æ¸¸æˆ" class="headerlink" title="è¿ç»´æ¸¸æˆ"></a>è¿ç»´æ¸¸æˆ</h2><p>ä¸€ã€æ¸¸æˆè¿è¡Œ<br>è¿è¡Œäº†ä¸€å‘¨ï¼Œå‘ç°æ¯å½“é¥¥è’æ›´æ–°ï¼Œæˆ‘æ­å»ºçš„æœåŠ¡å™¨å°±æ‰¾ä¸åˆ°äº†ã€‚ç›®å‰ä¹Ÿæ²¡å•¥å¥½åŠæ³•ï¼Œåˆ©ç”¨æ›´æ–°è„šæœ¬ï¼Œæ›´æ–°é‡å¯ä¸€ä¸‹ä¸–ç•Œå°±å¥½äº†ã€‚</p>
<p>äºŒã€æ¸¸æˆå¤‡ä»½<br>ä¸€å¼€å§‹ä¸æ‡‚ç”Ÿå­˜æ¨¡å¼å’Œæ— å°½æ¨¡å¼çš„åŒºåˆ«ï¼Œé»˜è®¤é…ç½®äº†ä¸ºç”Ÿå­˜ã€‚ç»“æœç©äº†ä¸€æ™šä¸Šä¹‹åï¼Œä¸–ç•Œè¢«é»˜è®¤é‡ç½®äº† - -ã€‚ åæ¥æ’æŸ¥æ—¥å¿—ï¼Œä¹Ÿæ²¡å‘ç°ç‰¹åˆ«çš„ä¸œè¥¿ï¼Œåªæ˜¯å‘ç°æœ‰äººå‡Œæ™¨5ç‚¹ä¸Šçº¿äº†ã€‚æ¨æµ‹æ˜¯ä»–ä¸Šçº¿æ­»äº¡äº†ï¼Œç„¶åä¸‹çº¿äº†ï¼Œä¸–ç•Œé‡Œæ²¡æœ‰æ´»äººï¼Œ120ç§’ä¹‹åå°±è¢«é‡ç½®äº†ï¼ï¼<br>ç»è¿‡è¿™ä»¶äº‹ä¹‹åï¼Œä¹Ÿæ„è¯†åˆ°äº†ï¼Œå¦‚æœæœåŠ¡å™¨å‡ºé—®é¢˜æˆ–è€…ä¸–ç•Œè¢«æ¶æ„ç ´åï¼Œé‚£å°±éå¸¸éš¾è¿‡äº†ã€‚æ‰€ä»¥è¦æ€ä¹ˆå­˜æ¡£å’Œå¤‡ä»½æ•°æ®å‘¢ï¼Ÿæˆ‘çš„å¤„ç†æ–¹å¼å¤§è‡´è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p>1ã€ç¡®å®šå­˜æ¡£æ–‡ä»¶çš„ä½ç½®ã€‚<br>å¦‚æœä½ æ˜¯æŒ‰ç…§å®˜æ–¹æ•™ç¨‹æ“ä½œçš„ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„å­˜æ¡£æ–‡ä»¶éƒ½åœ¨ /home/dst/.klei/DoNotStarveTogether ç›®å½•ä¸‹ï¼Œä¹Ÿå°±æ˜¯ä½ æ‰€ä½¿ç”¨çš„ç”¨æˆ·çš„ .klei/DoNotStarveTogether ç›®å½•ä¸‹ã€‚</p>
<p>2ã€å®šæœŸå¤‡ä»½å­˜æ¡£æ–‡ä»¶ã€‚<br>å­˜æ¡£æ–‡ä»¶è¿˜æ˜¯ä¸å¤§çš„ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©äº†æ¯å°æ—¶å®šæ—¶å¤‡ä»½ï¼Œå¤‡ä»½7å¤©çš„æ•°æ®ã€‚ç„¶åå­˜åˆ°å…¶ä»–ä½ç½®ã€‚è„šæœ¬å¦‚ä¸‹ï¼š<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#ï¼/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#åˆ›å»ºä¸´æ—¶æ–‡ä»¶å¤¹</span></span><br><span class="line">mkdir <span class="meta-keyword">/tmp/</span>backup_dst</span><br><span class="line"></span><br><span class="line"><span class="meta">#å¤åˆ¶æ–‡æ¡£åˆ°tmpæ–‡ä»¶å¤¹</span></span><br><span class="line">cp -r <span class="meta-keyword">/home/</span>dst/.klei/DoNotStarveTogether/MyDediServer <span class="meta-keyword">/tmp/</span>backup_dst</span><br><span class="line"></span><br><span class="line"><span class="meta">#æ ¹æ®æ—¶é—´åˆ›å»ºå‹ç¼©æ–‡ä»¶</span></span><br><span class="line">tar -zcvf <span class="meta-keyword">/home/</span>dst/.klei/DoNotStarveTogether/back_MyDediServer/bak_$(date +%Y-%m-%d_%k).tar.gz <span class="meta-keyword">/tmp/</span>backup_dst</span><br><span class="line"></span><br><span class="line"><span class="meta">#ç§»é™¤ä¸´æ—¶æ–‡ä»¶ä»¶</span></span><br><span class="line">rm -rf <span class="meta-keyword">/tmp/</span>backup_dst</span><br><span class="line"></span><br><span class="line"><span class="meta">#ç§»é™¤è¶…è¿‡7å¤©çš„å¤‡ä»½å‹ç¼©åŒ…</span></span><br><span class="line">find <span class="meta-keyword">/home/</span>dst/.klei/DoNotStarveTogether/back_MyDediServer  -mtime +<span class="number">7</span> -name <span class="string">"*.tar.gz"</span> -exec rm -<span class="class">rf </span>&#123;&#125; \;</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åé…ç½®ä¸€ä¸ªcrontabå®šæ—¶ä»»åŠ¡ï¼Œæ¯å°æ—¶æ‰§è¡Œä¸€æ¬¡å°±å¥½äº†ã€‚</p>
<p>3ã€å®šæœŸå¤‡ä»½åˆ°å¤–éƒ¨å­˜å‚¨ï¼ˆè…¾è®¯äº‘æ–‡ä»¶å­˜å‚¨ï¼‰ã€‚<br>ä¸Šé¢çš„è„šæœ¬åªæ˜¯å¤‡ä»½åˆ°æœåŠ¡å™¨é‡Œï¼Œä¸‡ä¸€å“ªå¤©ç³»ç»Ÿè¢«æå´©äº†ï¼Œæ•°æ®è¿˜æ˜¯ä¸¢ã€‚æ‰€ä»¥æˆ‘åˆ©ç”¨è…¾è®¯äº‘çš„æ–‡ä»¶å­˜å‚¨ï¼ŒæŒ‚è½½äº†ä¸€ä¸ªå…è´¹10Gå¤§å°çš„å¤–éƒ¨å­˜å‚¨ã€‚ç„¶ååˆ©ç”¨è„šæœ¬å†å¤‡ä»½ä¸€ä»½ã€‚æˆ‘çš„å¤–éƒ¨å­˜å‚¨æŒ‚è½½ç›®å½•æ˜¯/localï¼Œè„šæœ¬å¦‚ä¸‹ï¼š<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¤‡ä»½æ–‡ä»¶</span></span><br><span class="line">cp /home/dst/.klei/DoNotStarveTogether/back_MyDediServer/bak<span class="number">_</span>$(date +%Y-%m-%d_%H).tar.gz /<span class="keyword">local</span>/dst_bak</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç§»é™¤è¶…è¿‡14å¤©çš„å¤‡ä»½å‹ç¼©åŒ…</span></span><br><span class="line">find /<span class="keyword">local</span>/dst_bak  -mtime +<span class="number">14</span> -name <span class="string">"*.tar.gz"</span> -<span class="keyword">exec</span> rm -rf &#123;&#125; \;</span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œæˆ‘å·äº†ä¸ªæ‡’ï¼Œè¿™ä¸ªè„šæœ¬æ˜¯å¿…é¡»è¦åœ¨ä¸Šä¸€ä¸ªè„šæœ¬æ‰§è¡Œå®Œä¹‹åæ‰å¯ä»¥æ‰§è¡Œçš„ï¼Œå› ä¸ºç›´æ¥åˆ©ç”¨æ—¶é—´ç”Ÿæˆçš„å‹ç¼©æ–‡ä»¶ï¼Œç›´æ¥copyçš„ã€‚ä¸æ¨èè¿™æ ·åšï¼Œæ¯•ç«Ÿè¿™æ ·ä¾èµ–æ˜¯ä¸å¥½çš„ã€‚ä¸è¿‡æˆ‘ä¹Ÿæ‡’å¾—æäº†ï¼Œå°±è¿™æ ·å§ - -ã€‚</p>
<p>4ã€ç¡¬ç›˜å¿«ç…§ï¼ˆè…¾è®¯äº‘å®šæœŸå¿«ç…§ï¼‰<br>ä¸‡ä¸€æœåŠ¡å™¨è¢«äººå®¶é»‘äº†ï¼ˆå“ªé‡Œé‚£ä¹ˆå¤šä¸‡ä¸€å“¦ï¼Œå°ç ´æœåŠ¡å™¨è°æä½ å‘¢ - -ã€‚ï¼‰ï¼Œåˆ é™¤äº†æ•´ä¸ªç³»ç»Ÿï¼Œåˆ©ç”¨å¿«ç…§ä¹Ÿèƒ½æ•‘å›æ¥ã€‚é»˜è®¤è´¦æˆ·æ˜¯åªæœ‰æ‰‹åŠ¨å¿«ç…§çš„ï¼Œå®šæœŸå¿«ç…§å¼€å·¥å•ç”³è¯·ä¸€ä¸‹å°±å¥½äº†ï¼Œç§’å¼€ã€‚å¼€å¯ä»¥åï¼Œç›´æ¥æ¯å¤©å®šæ—¶å¿«ç…§å°±å¥½äº†ã€‚<br>è¿™æ ·åº”è¯¥ä¸‡æ— ä¸€å¤±äº†å§ - -ã€‚</p>
<h2 id="æ¢å¤å¤‡ä»½"><a href="#æ¢å¤å¤‡ä»½" class="headerlink" title="æ¢å¤å¤‡ä»½"></a>æ¢å¤å¤‡ä»½</h2><p>æ²¡å†™æˆä¸€é”®è„šæœ¬ï¼Œéœ€è¦æ‰‹åŠ¨æ”¹ä¸‹ã€‚å¤§è‡´è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p>1ã€åœæ­¢æ­£åœ¨è¿è¡Œçš„æœåŠ¡<br>è¿›å…¥ä¸¤ä¸ªcreenï¼Œç„¶åcontrol+cåœæ­¢å°±å¥½äº†<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åœæ­¢æœåŠ¡å™¨ï¼šä¸¤ä¸ªscreen</span></span><br><span class="line">screen -r dst_server1</span><br><span class="line">screen -r dst_server2</span><br></pre></td></tr></table></figure></p>
<p>2ã€å¤‡ä»½ç›®å‰ç°æœ‰çš„å­˜æ¡£ï¼Œé€šè¿‡æŒ‡å®šçš„å¤‡ä»½æ–‡ä»¶è¿˜åŸ<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¤‡ä»½æœåŠ¡å™¨</span></span><br><span class="line">mv <span class="regexp">/home/dst/</span>.klei<span class="regexp">/DoNotStarveTogether/MyDediServer/</span> <span class="regexp">/home/dst/</span>.klei/DoNotStarveTogether/MyDediServer_tmp</span><br><span class="line"></span><br><span class="line"><span class="comment">#è§£å‹å¤‡ä»½æ–‡ä»¶</span></span><br><span class="line">tar -xzvf <span class="regexp">/home/dst/</span>.klei/DoNotStarveTogether/back_MyDediServer/bak_2018<span class="number">-06</span><span class="number">-21</span>_14.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç§»åŠ¨æ–‡ä»¶</span></span><br><span class="line">mv <span class="regexp">/home/dst/</span>.klei<span class="regexp">/DoNotStarveTogether/back_MyDediServer/tmp/backup_dst/MyDediServer/</span> <span class="regexp">/home/dst/</span>.klei<span class="regexp">/DoNotStarveTogether/</span></span><br></pre></td></tr></table></figure></p>
<p>3ã€é‡å¯æœåŠ¡<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sh <span class="meta-keyword">/home/</span>dst/server_dst<span class="meta-keyword">/bin/</span>restart.sh </span><br><span class="line">sh <span class="meta-keyword">/home/</span>dst/server_dst<span class="meta-keyword">/bin/</span>restart2.sh</span><br></pre></td></tr></table></figure></p>
<p>4ã€æ¸…ç†æ®‹ç•™<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm -rf <span class="regexp">/home/</span>dst<span class="regexp">/.klei/</span>DoNotStarveTogether/MyDediServer_tmp</span><br><span class="line">rm -rf <span class="regexp">/home/</span>dst<span class="regexp">/.klei/</span>DoNotStarveTogether<span class="regexp">/back_MyDediServer/</span>tmp</span><br></pre></td></tr></table></figure></p>
<h2 id="å¸¸ç”¨çš„è„šæœ¬"><a href="#å¸¸ç”¨çš„è„šæœ¬" class="headerlink" title="å¸¸ç”¨çš„è„šæœ¬"></a>å¸¸ç”¨çš„è„šæœ¬</h2><p>1ã€æŸ¥çœ‹æ¸¸æˆè¿è¡Œæ—¥å¿—<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Masterè¿è¡Œæ—¥å¿—</span></span><br><span class="line">tail -f <span class="regexp">/home/dst/</span>.klei/DoNotStarveTogether/MyDediServer/Master/server_log.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ´ç©´è¿è¡Œæ—¥å¿—</span></span><br><span class="line">tail -f <span class="regexp">/home/dst/</span>.klei/DoNotStarveTogether/MyDediServer/Caves/server_log.txt</span><br></pre></td></tr></table></figure></p>
<p>2ã€æ›´æ–°ã€é‡å¯è„šæœ¬<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æ›´æ–°è„šæœ¬  <span class="keyword">sh</span> /home/dst/server_dst/bin/<span class="keyword">update</span>.<span class="keyword">sh</span></span><br><span class="line"></span><br><span class="line">é‡å¯è„šæœ¬ <span class="keyword">sh</span> /home/dst/server_dst/bin/restart.<span class="keyword">sh</span> </span><br><span class="line">é‡å¯è„šæœ¬2 <span class="keyword">sh</span> /home/dst/server_dst/bin/restart2.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure></p>
<h2 id="é¥¥è’æ¸¸æˆç¾¤"><a href="#é¥¥è’æ¸¸æˆç¾¤" class="headerlink" title="é¥¥è’æ¸¸æˆç¾¤"></a>é¥¥è’æ¸¸æˆç¾¤</h2><p>æ¬¢è¿åŠ å…¥ğŸ˜~<br>QQ Groupï¼š 0x2f9f24e9 (Hexadecimal)</p>
</div><div class="tags"><a href="/tags/é¥¥è’/">é¥¥è’</a><a href="/tags/é¥¥è’è”æœºç‰ˆ/">é¥¥è’è”æœºç‰ˆ</a><a href="/tags/Don-t-Starve-Together/">Don't Starve Together</a><a href="/tags/ubuntu/">ubuntu</a><a href="/tags/DoNotStarveTogether/">DoNotStarveTogether</a><a href="/tags/Linux/">Linux</a></div><div class="post-nav"><a class="next" href="/2018/02/24/æ–°æœåŠ¡å™¨(Ubuntu)åŸºæœ¬é…ç½®/">æ–°æœåŠ¡å™¨(Ubuntu)åŸºæœ¬é…ç½®</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://zuosc.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/https/" style="font-size: 15px;">https</a> <a href="/tags/é¥¥è’/" style="font-size: 15px;">é¥¥è’</a> <a href="/tags/Don-t-Starve-Together/" style="font-size: 15px;">Don't Starve Together</a> <a href="/tags/ubuntu/" style="font-size: 15px;">ubuntu</a> <a href="/tags/DoNotStarveTogether/" style="font-size: 15px;">DoNotStarveTogether</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Let-s-Encrypt/" style="font-size: 15px;">Let's Encrypt</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/ssl/" style="font-size: 15px;">ssl</a> <a href="/tags/GitHub-Pages/" style="font-size: 15px;">GitHub Pages</a> <a href="/tags/letsencrypt/" style="font-size: 15px;">letsencrypt</a> <a href="/tags/é¥¥è’è”æœºç‰ˆ/" style="font-size: 15px;">é¥¥è’è”æœºç‰ˆ</a> <a href="/tags/Transmission/" style="font-size: 15px;">Transmission</a> <a href="/tags/PT/" style="font-size: 15px;">PT</a> <a href="/tags/kms/" style="font-size: 15px;">kms</a> <a href="/tags/æ¿€æ´»æœåŠ¡å™¨/" style="font-size: 15px;">æ¿€æ´»æœåŠ¡å™¨</a> <a href="/tags/vlmcsd/" style="font-size: 15px;">vlmcsd</a> <a href="/tags/KMS/" style="font-size: 15px;">KMS</a> <a href="/tags/Jetbrains/" style="font-size: 15px;">Jetbrains</a> <a href="/tags/JetBrainsæ¿€æ´»æœåŠ¡å™¨/" style="font-size: 15px;">JetBrainsæ¿€æ´»æœåŠ¡å™¨</a> <a href="/tags/IDEAæ¿€æ´»æœåŠ¡å™¨/" style="font-size: 15px;">IDEAæ¿€æ´»æœåŠ¡å™¨</a> <a href="/tags/æ–°æœåŠ¡å™¨/" style="font-size: 15px;">æ–°æœåŠ¡å™¨</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/06/21/åœ¨Linux(Ubuntu)ä¸­æ­å»ºé¥¥è’è”æœºç‰ˆæœåŠ¡å™¨/">åœ¨Linux(Ubuntu)ä¸­æ­å»ºé¥¥è’è”æœºç‰ˆæœåŠ¡å™¨</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/24/æ–°æœåŠ¡å™¨(Ubuntu)åŸºæœ¬é…ç½®/">æ–°æœåŠ¡å™¨(Ubuntu)åŸºæœ¬é…ç½®</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/09/åœ¨Ubuntuä¸­å®‰è£…Transmissionç¬”è®°/">åœ¨Ubuntuä¸­å®‰è£…Transmissionç¬”è®°</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/22/å¯¹å¤–æœåŠ¡é›†åˆ/">æœåŠ¡é›†åˆ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/20/ä½¿ç”¨Let's EncryptåŠ å¯†ä½ çš„å°ç«™/">ä½¿ç”¨Let's EncryptåŠ å¯†ä½ çš„å°ç«™</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/11/åœ¨Ubuntuä¸­æ­å»ºKMSæœåŠ¡å™¨/">åœ¨Ubuntuä¸­æ­å»ºKMSæœåŠ¡å™¨</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/11/hello-world/">Hello World</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> å‹æƒ…é“¾æ¥</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2018 <a href="/." rel="nofollow">ä¸€æ€ç™¾é‡Œçš„åšå®¢.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":80,"height":150},"mobile":{"show":true}});</script></body></html>